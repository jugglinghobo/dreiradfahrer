$(function(){$("form").on("submit",function(e){var a=$(this),r=a.data("confirm");return r&&!confirm(r)?!1:void(1==a.data("remote")&&(e.preventDefault(),e.stopped=!0,t.sendRequest(a,{verb:a.data("method")||a.attr("method")||"post",url:a.attr("action"),dataType:a.data("type")||$.ajaxSettings&&$.ajaxSettings.dataType||"script",params:a.serializeArray()})))}),$(document).on("click","a[data-confirm]",function(t){var e=$(this).data("confirm");confirm(e)||(t.preventDefault(),t.stopped=!0)}),$(document).on("click","a[data-remote=true]",function(e){var a=$(this);e.stopped||(e.preventDefault(),e.stopped=!0,t.sendRequest(a,{verb:a.data("method")||"get",url:a.attr("href")}))}),$(document).on("click","a[data-method]:not([data-remote])",function(e){e.stopped||(t.sendMethod($(this)),e.preventDefault(),e.stopped=!0)});var t={sendRequest:function(t,e){var a=e.verb,r=e.url,n=e.params,o=e.dataType,d=t.trigger("ajax:before");return d.stopped?!1:($.ajax({url:r,type:a.toUpperCase()||"POST",data:n||[],dataType:o,beforeSend:function(e){t.trigger("ajax:loading",[e])},complete:function(e){t.trigger("ajax:complete",[e])},success:function(e){t.trigger("ajax:success",[e])},error:function(e){t.trigger("ajax:failure",[e])}}),void t.trigger("ajax:after"))},sendMethod:function(t){var e=t.data("method"),a=t.attr("href"),r=$('<form method="post" action="'+a+'"></form>'),n=$("meta[name=csrf-token]").attr("content"),o=$("meta[name=csrf-param]").attr("content");if(r.hide().appendTo("body"),"post"!==e){var d='<input type="hidden" name="_method" value="'+e+'" />';r.append(d)}if(void 0!==o&&void 0!==n){var d='<input type="hidden" name="'+o+'" value="'+n+'" />';r.append(d)}r.submit()}};$.ajaxPrefilter(function(t,e,a){if("GET"!==t.verb){var r=$('meta[name="csrf-token"]').attr("content");r&&a.setRequestHeader("X-CSRF-Token",r)}})});